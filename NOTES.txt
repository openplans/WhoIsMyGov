OFFICES TA CARES ABOUT
======================

 * City Council


 * DA (manhattan only; are there several?)

 * Controller (citywide?)

 * Mayor (citywide)

 * PUblic Advocate (citywide?)



DATA
======

 http://www.nyc.gov/html/dcp/html/bytes/dwndistricts.shtml

 District shapefiles:

 * DA?

 * City Council:
   http://www.nyc.gov/html/dcp/download/bytes/nycc_08cav.zip


CODE NOTES
=============


the controller in controllers/people.py are actually centered around
districts, because that's what the models are:


 * District

   each district has an arbitrary number of key: val pairs which are
   stored as DistrictsMeta instances (in the districts_meta table)

 * DistrictsMeta are in apparently arbitrary order - presumably by id
   (and thus by order of insertion)

 * people are just DistrictsMeta instances, by convention with
   "official" as the key



thoughts:

 - I could just have "candidate" as another key convention.  but there
   are multiple candidates per district so there'd be no way to relate
   data to specific candidates.

 - really should refactor the data to have people as first-class
   objects, and a people_meta table instead.
   


Plan
=====

* for SRID use 4326 aka
  WGS84(http://en.wikipedia.org/wiki/World_Geodetic_System) 
  ... which seems to be what blockparty uses; stores things as lon/lat
  pairs so i can easily query for which district contains a lon/lat 

* load the City Council shapefiles into postgis
  - see
  http://techmix.net/blog/2009/04/06/import-shapefiles-shp-into-postgis/

* figure out sql for finding which district contains a lat,lon point:
  either the ST_Within or ST_Contains functions (they are converse of
  each other) from 
  http://postgis.refractions.net/documentation/manual-1.3/ch06.html#id2574517

* To call such functions from sqlalchemy, use the
  sqlalchemy.sql.func namespace as per
  http://www.sqlalchemy.org/docs/04/sqlexpression.html#sql_everythingelse_functions
  see also for example in community almanac code:
  communityalmanac/model/sqlgeotypes.py




